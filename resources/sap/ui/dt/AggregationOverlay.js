/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/dt/Overlay","sap/ui/dt/ElementUtil","sap/ui/dt/OverlayUtil","sap/ui/dt/Util","sap/base/util/merge"],function(e,t,i,r,n){"use strict";var a=e.extend("sap.ui.dt.AggregationOverlay",{metadata:{library:"sap.ui.dt",properties:{aggregationName:{type:"string"},targetZone:{type:"boolean",defaultValue:false},scrollContainerId:{type:"int"}},events:{targetZoneChange:{parameters:{targetZone:{type:"boolean"}}}}}});a.prototype._getAttributes=function(...t){return n({},e.prototype._getAttributes.apply(this,t),{"data-sap-ui-dt-aggregation":this.getAggregationName()})};a.prototype._getChildIndex=function(e){var t=this.getChildren();var i;var r=t.indexOf(e)-1;while(r>0){i=t[r];if(i.isRendered()){break}r--}return r<0?0:r+1};a.prototype.insertChild=function(e,n){if(!r.isInteger(e)){e=this.isAssociation()?t.getIndexInAssociation:i.getIndexInAggregation(n.getElement(),this.getElement(),this.getAggregationName())}var a=this.indexOfAggregation("children",n);if(a!==e){if(a>-1){this.removeAggregation("children",n)}this.insertAggregation("children",n,e);if(this.isRendered()){var o=this._getChildIndex(n);var g=n.isRendered();if(!g){var s=n.render(true);s=s.jquery?s.get(0):s}var d=g?n.getDomRef():s;var l=this.getChildrenDomRef().children;var h=[].indexOf.call(l,d);var p;if(h!==o){if(o>0){p=h>-1&&h<o?o:o-1;l[p].after(d)}else{p=o;this.getChildrenDomRef().prepend(d)}}if(!g){n.fireAfterRendering({domRef:d})}}this.fireChildAdded();return true}return false};a.prototype.addChild=function(e,t){this.insertChild(this.getChildren().length,e);if(!t){this.fireChildAdded()}};a.prototype.render=function(...t){if(this.getChildren().length>0||this.getDesignTimeMetadata().getDomRef()){this.addStyleClass("sapUiDtAggregationOverlay");return e.prototype.render.apply(this,t)}return undefined};a.prototype._getRenderingParent=function(...t){if(r.isInteger(this.getScrollContainerId())){return this.getParent().getScrollContainerById(this.getScrollContainerId())}return e.prototype._getRenderingParent.apply(this,t)};a.prototype._setPosition=function(...t){const[,i,,n]=t;e.prototype._setPosition.apply(this,t);if(i.domRef&&!r.isInteger(this.getScrollContainerId())){this._handleOverflowScroll(i,this.$(),this.getParent(),n)}};a.prototype.getAssociatedDomRef=function(){var e=this.getElement();var t=this.getAggregationName();var i=this.getDesignTimeMetadata();return i.getAssociatedDomRef(e,i.getDomRef(),t)};a.prototype.setTargetZone=function(e){if(this.getTargetZone()!==e){this.setProperty("targetZone",e);this.toggleStyleClass("sapUiDtOverlayTargetZone",e);this.fireTargetZoneChange({targetZone:e})}return this};a.prototype.isTargetZone=function(){return this.getTargetZone()};a.prototype.isAssociation=function(){return!!this.getDesignTimeMetadata().getData().aggregationLike};return a});
//# sourceMappingURL=AggregationOverlay.js.map