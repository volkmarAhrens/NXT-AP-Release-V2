{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Element","FlexState","VariantUtils","ControlVariantApplyAPI","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","ChangesWriteAPI","ChangePersistenceFactory","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","length","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oChangePersistence","getChangePersistenceForControl","oVariantModel","getModel","getVariantModelName","USER","aSuccessfulChanges","mVMReferences","createChanges","aChanges","aChangesToBeAdded","reduce","pPromise","oPersonalizationChange","then","transient","ignoreVariantManagement","variantReference","sVariantManagementReference","sSelectorControlId","getId","useStaticArea","sCurrentVariantReference","oData","currentVariant","Object","assign","developerMode","layer","create","selector","oCreatedChange","push","changeInstance","catch","oError","message","addChanges","applyChanges","setQueuedForApply","apply","change","oResult","success","deleteChange","initialize","componentId","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","sLocalId","getLocalId","oFlexController","createForControl","isInitialized","control","resetChanges","undefined","changeTypes","restore","removeDirtyChanges","generator","hasDirtyFlexObjects","aDirtyFlexObjects","getDirtyChanges","some","oFlexObject","getLayer","getSupportInformation","indexOf","getChangeType","vSelector","getControlIdBySelector","save","saveSequenceOfDirtyChanges","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}