{"version":3,"file":"VariantManagementState.js","names":["sap","ui","define","_omit","_pick","ObjectPath","JsControlTreeModifier","VariantsApplyUtil","DataSelector","States","FlexState","LayerUtils","Utils","VariantManagementState","mCurrentVariantReferences","getInitialCurrentVariant","sReference","aCtrlVariantManagementChanges","aVariants","oComponentData","getComponentData","aVariantReferencesFromUrl","get","VARIANT_TECHNICAL_PARAMETER","aVariantKeys","filter","oVariant","visible","map","key","sDesiredSelectedVariantId","find","sVariantKey","includes","slice","reverse","oVariantManagementChange","getContent","defaultVariant","sDesiredDefaultVariantKey","createVariantManagement","aFlexObjects","sVMReference","sCurrentVariantReference","currentVariant","variants","variantManagementChanges","oFlexObject","getFileType","getSelector","id","findVariantInFlexObjects","sId","getId","getAllReferencedVariantIds","oCurrentVariant","oFoundVariant","getVariantReference","push","createVariantEntry","oVariantInstance","aReferencedVariantIds","instance","variantChanges","controlChanges","bCorrectFlexObjectType","isA","bOwnControlChange","bControlChangeOfReferencedVariant","indexOf","bLowerLayerChange","compareAgainstCurrentLayer","getLayer","title","getName","layer","favorite","getFavorite","executeOnSelect","getExecuteOnSelection","getVisible","author","getSupportInformation","user","contexts","getContexts","isStandardVariant","getStandardVariant","applyVariantChange","oVariantEntry","oVariantChange","getChangeType","getText","Error","applyVariantManagementChange","oVariantManagementEntry","sDesiredDefaultVariant","forEach","createVariantsMap","getFlexObjectMetadata","reference","oVariantManagementsMap","getVariantManagementReference","findVariant","Object","keys","oVariantManagement","some","sCurrentVariant","set","sort","oVariant1","oVariant2","toLowerCase","aCurrentVariantChanges","modified","oChange","isPersisted","getSavedToVariant","oVariantsMap","values","oVariantsMapEntry","oVariantManagementMapDataSelector","parentDataSelector","getFlexObjectsDataSelector","executeFunction","oVariantManagementsDataSelector","parameterKey","oVariantsDataSelector","sVariantReference","oVariantDependentFlexObjectsDataSelector","bVariantRelatedChange","getVariantDependentFlexObjects","resetCurrentVariantReference","checkUpdate","getVariantManagementMap","addRuntimeSteadyObject","sComponentId","clearRuntimeSteadyObjects","getControlChangesForVariant","mPropertyBag","aResult","getVariant","includeDirtyChanges","getState","LifecycleState","PERSISTED","getVariantChangesForVariant","sVReference","vReference","variantManagementReference","vmReference","variantReference","getCurrentVariantReference","oVariantManagementSection","getAllCurrentVariants","entries","aEntry","getVariantManagementReferences","getAllVariants","reduce","aPrev","sCurr","concat","getInitialChanges","aInitialChanges","mArguments","assign","setCurrentVariant","newVReference","waitForInitialVariantChanges","aControls","aCurrentControls","oSelector","oControl","bySelector","appComponent","indexOfObject","selector","length","flexController","waitForChangesToBeApplied","Promise","resolve"],"sources":["VariantManagementState-dbg.js"],"mappings":"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","ignoreList":[]}