{"version":3,"file":"ChangeIndicatorRegistry.js","names":["sap","ui","define","includes","values","_omit","Log","ManagedObject","JsControlTreeModifier","ElementUtil","ChangesWriteAPI","FlUtils","ChangeCategories","ChangeStates","ChangeIndicatorRegistry","extend","metadata","properties","changeCategories","type","defaultValue","rootControlId","constructor","aArgs","prototype","apply","this","_oRegisteredChanges","_oChangeIndicators","exit","reset","getAllRegisteredChanges","map","oChange","Object","assign","getRegisteredChangeIds","keys","getRegisteredChange","sChangeId","getSelectorsWithRegisteredChanges","oChangeIndicators","sPreviousAffectedElementId","addSelector","sSelectorId","sAffectedElementId","oChangeIndicatorData","bDependent","undefined","push","id","change","getId","dependent","affectedElementId","displayElementsKey","visualizationInfo","displayElementIds","toString","descriptionPayload","forEach","sId","iIndex","affectedElementIds","getRelevantChangesWithSelector","oSelectors","aRelevantChanges","aRelevantChangesForSelector","filter","concat","getChangeIndicator","getChangeIndicators","registerChange","sCommandName","oVersionsModel","oAppComponent","getAppComponentForControl","getElementInstance","getRootControlId","getVisualizationInfo","then","mChangeVisualizationInfo","aCategories","getChangeCategories","sChangeCategory","category","find","sChangeCategoryName","OTHER","aChangeStates","aDraftChangesList","getData","draftFilenames","getState","getDraftAndDirtyStates","DRAFT","ALL","commandName","changeCategory","changeStates","bind","getSelectorIds","aSelectorList","vSelector","oElement","bySelector","Boolean","getInfoFromChangeHandler","oInfoFromChangeHandler","mVisualizationInfo","aChangeSelectors","getSelector","aAffectedElementSelectors","affectedControls","oChangeOriginalSelector","getOriginalSelector","aDisplayElementSelectors","dependentElementIds","dependentControls","displayControls","updateRequired","oSelector","oControl","getChangeHandler","changeType","getChangeType","element","modifier","layer","getLayer","oChangeHandler","getChangeVisualizationInfo","isSuccessfullyApplied","catch","vErr","error","Promise","resolve","registerChangeIndicator","oChangeIndicator","sKeyToRemove","removeRegisteredChange","oIndicator","destroy","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","length"],"sources":["ChangeIndicatorRegistry-dbg.js"],"mappings":"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","ignoreList":[]}