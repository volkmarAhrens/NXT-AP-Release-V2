{"version":3,"file":"ActionExtractor.js","names":["sap","ui","define","difference","merge","Log","JsControlTreeModifier","Lib","ElementUtil","OverlayRegistry","DelegateMediatorAPI","AdditionalElementsUtils","Utils","ActionExtractor","loadKnownDefaultDelegateLibraries","aLoadLibraryPromises","aRequiredLibraries","getKnownDefaultDelegateLibraries","forEach","sLibrary","oLoadLibraryPromise","load","name","then","Promise","resolve","catch","vError","warning","push","all","getAddViaDelegateActionData","mAction","oDesignTimeMetadata","oPlugin","hasChangeHandler","changeType","element","bHasChangeHandler","aggregationName","aggregation","addPropertyActionData","designTimeMetadata","action","delegateInfo","payload","delegate","instance","modelType","requiredLibraries","delegateType","undefined","getInvisibleElements","oParentOverlay","sAggregationName","oParentElement","getElement","aInvisibleElements","getAggregation","filter","oControl","oOverlay","getOverlay","hasStableId","oRelevantContainer","getRelevantContainer","oRelevantContainerOverlay","oOverlayToCheck","bAnyParentInvisible","getElementVisibility","getParentElementOverlay","this","map","oInvisibleElement","sourceAggregation","defaultGetAggregationName","oParent","oChild","sParentAggregationName","isValidAction","oCheckElementOverlay","mParents","bValidAction","relevantContainerOverlay","filterValidAddPropertyActions","aActions","aDefaultDelegateLibraries","fnFilterActions","aFilteredActions","oCheckElement","changeOnRelevantContainer","relevantContainer","parent","getDelegateForControl","control","modifier","supportsDefault","supportsDefaultDelegate","mDelegateInfo","names","length","types","COMPLETE","getRequiredLibrariesForDefaultDelegate","delegateName","Boolean","reduce","oPreviousActionsPromise","getRevealActionFromAggregations","aParents","_mReveal","aAggregationNames","aInvisibleChildren","aInvisibleChildrenPerAggregation","sAggregation","concat","call","bind","oInitialRevealObject","elements","controlTypeNames","mRevealPromise","oPreviousPromise","mInvisibleElement","mReveal","checkAndEnrichReveal","reveal","sTargetAggregation","mRevealAction","bRevealEnabled","oHasChangeHandlerPromise","sSourceAggregation","getDesignTimeMetadata","getAction","oRevealSelector","isElementValid","getParents","parentOverlay","getAggregationName","oAggregationOverlay","getAggregationOverlay","checkTargetZone","bIncludeReveal","targetAggregation","mName","getName","getActions","bSibling","oSourceElementOverlay","bInvalidate","oDesignTime","sSiblingOrChild","_mAddActions","oRevealActionsPromise","_getRevealActions","oAddPropertyActionsPromise","_getAddViaDelegateActions","aAllActions","mAllActions","asSibling","asChild","getActionsOrUndef","mRevealCache","bIsSyncRegistered","attachEventOnce","findAllSiblingsInContainer","mCachedResult","getId","getChildren","isIgnored","mAggregatedReveal","getActionDataFromAggregations","oAction","oReturn","addViaDelegate"],"sources":["ActionExtractor-dbg.js"],"mappings":"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","ignoreList":[]}