/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/Lib","sap/ui/rta/plugin/Remove","sap/m/Button"],function(e,t,a,r){"use strict";var n=a.extend("sap.ui.rta.plugin.EasyRemove",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});n.prototype.registerElementOverlay=function(...t){const[r]=t;var n=r.getElement();if(n.getMetadata().getName()==="sap.uxap.ObjectPageSection"&&this.hasStableId(r)){r.addStyleClass("sapUiRtaPersDelete")}var o=Array.from(r.getDomRef().querySelectorAll(":scope > .sapUiRtaPersDeleteClick"));if(r.hasStyleClass("sapUiRtaPersDelete")&&o.length===0){var s=function(e){this.handler([e])}.bind(this);var i=this._addButton(r);i.attachBrowserEvent("contextmenu",function(e){e.stopPropagation();e.preventDefault()});var l=function(t){var a=e.getElementById(t.currentTarget.id.replace("-DeleteIcon",""));s(a);t.stopPropagation();t.preventDefault()};i.attachBrowserEvent("click",l).attachBrowserEvent("tap",l)}a.prototype.registerElementOverlay.apply(this,t)};n.prototype._isEditable=function(...e){const[t]=e;if(t._oDeleteButton){t._oDeleteButton.setEnabled(this.isEnabled([t]))}return a.prototype._isEditable.apply(this,e)};n.prototype._addButton=function(e){var a=this.isEnabled([e]);var n=`${e.getId()}-DeleteIcon`;var o=document.createElement("div");o.classList.add("sapUiRtaPersDeleteClick");o.setAttribute("draggable","true");var s=document.createElement("div");s.classList.add("sapUiRtaPersDeleteIconOuter");e._oDeleteButton=new r(n,{icon:"sap-icon://less",tooltip:t.getResourceBundleFor("sap.ui.rta").getText("CTX_REMOVE"),enabled:a}).placeAt(s);o.append(s);e.getDomRef().append(o);o.addEventListener("dragstart",function(e){e.stopPropagation();e.preventDefault()});return e._oDeleteButton};n.prototype.deregisterElementOverlay=function(...e){const[t]=e;var r=t.getElement();if(r.getMetadata().getName()==="sap.uxap.ObjectPageSection"){t.removeStyleClass("sapUiRtaPersDelete");if(t._oDeleteButton){t._oDeleteButton.destroy()}}a.prototype.deregisterElementOverlay.apply(this,e)};return n});
//# sourceMappingURL=EasyRemove.js.map