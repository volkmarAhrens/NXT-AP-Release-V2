{"version":3,"file":"RTAElementMover.js","names":["sap","ui","define","ElementMover","OverlayUtil","ElementUtil","Utils","CommandFactory","Plugin","OverlayRegistry","RTAElementMover","extend","metadata","library","properties","commandFactory","type","defaultValue","movableTypes","associations","events","prototype","init","this","oBasePlugin","getCommandFactory","exit","destroy","setCommandFactory","oCommandFactory","setProperty","isEditable","oOverlay","bOnRegistration","oElement","getElement","isMovableType","Promise","resolve","checkMovable","then","bMovable","setMovable","fnIsValidForMove","oDesignTimeMetadata","getDesignTimeMetadata","oParentElementOverlay","getParentElementOverlay","bNotAdaptable","markedAsNotAdaptable","isDestroyStarted","isElementDirectTemplateChild","oRelevantContainer","getRelevantContainer","oRelevantContainerOverlay","getOverlay","isMoveAvailableOnRelevantContainer","bValid","hasStableId","bind","fnCheckForValidTargetZones","call","aOverlays","findAllUniqueAggregationOverlaysInContainer","aValidAggregationOverlayPromises","map","oAggregationOverlay","checkTargetZone","undefined","all","aValidAggregationOverlays","filter","aValidAggregationOverlay","length","aVisibleOverlays","getChildren","oChildOverlay","oChildElement","getVisible","getParent","_getMoveAction","oParentAggregationDtMetadata","oParentAggregationOverlay","getParentAggregationOverlay","getAction","bOverlayNotInDom","oMovedOverlay","getMovedOverlay","oChangeHandlerRelevantElement","oMoveAction","changeType","oRelevantOverlay","hasChangeHandler","isMoveAvailableForChildren","aAggregationsWithMoveAction","getAggregationNamesWithAction","aAggregationWithMoveActionPromises","forEach","oAggregationWithAction","aAggregationOverlays","getAggregationOverlay","aChildren","aChildrenMovablePromises","concat","push","aMoveAvailableResults","some","aMoveAvailable","buildMoveCommand","oMovedElement","oSource","_getSource","oTarget","getParentInformation","iSourceIndex","index","iTargetIndex","bSourceAndTargetAreSame","_compareSourceAndTarget","sVariantManagementReference","getVariantManagementReference","getCommandFor","movedElements","element","sourceIndex","targetIndex","source","target"],"sources":["RTAElementMover-dbg.js"],"mappings":"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","ignoreList":[]}