{"version":3,"file":"RenameHandler.js","names":["sap","ui","define","jQuery","Device","Element","EventBus","Plugin","validateText","Overlay","ElementUtil","OverlayRegistry","Utils","DOMUtil","KeyCodes","OverlayUtil","sEmptyTextKey","RenameHandler","errorStyleClass","_manageClickEvent","vEventOrElement","oOverlay","getSource","isSelected","this","isRenameAvailable","isRenameEnabled","attachBrowserEvent","_onClick","detachBrowserEvent","_setEditableFieldPosition","_oEditableField","offset","left","getOffset","_oEditableControlDomRef","top","_oEditedOverlay","setSelected","focus","startEdit","mPropertyBag","setBusy","overlay","_bPreviouslyMovable","getMovable","setMovable","setFirstParentMovable","oElement","getElement","oDesignTimeMetadata","getDesignTimeMetadata","oEditableControlDomRef","getAssociatedDomRef","domRef","isElementInViewport","get","scrollIntoView","mMutators","getTextMutators","getText","textContent","bind","setText","sNewText","_fnGetControlText","_fnSetControlText","iWidthDifference","oOverlayForWrapper","getOverlay","jquery","id","_oControlForWrapperDomRef","getDomRef","_oEditableControlParentDomRef","parentNode","iControlForWrapperWidth","parseInt","offsetWidth","isNaN","iEditableControlWidth","iEditableControlParentWidth","aCHildren","Array","from","children","aVisibleChildren","filter","oNode","isVisible","length","_oWrapperDomRef","document","createElement","classList","add","style","whiteSpace","overflow","width","append","_oEditableFieldDomRef","setAttribute","sCurrentText","setOldValue","_getCurrentEditableFieldText","call","copyComputedStyle","lastElementChild","removeChild","visibility","userSelect","textOverflow","browser","name","getMetadata","getName","lineHeight","getMutationObserver","ignoreOnce","target","_FocusHandler","_onEditableFieldFocus","_oBlurHandler","_onEditableFieldBlur","_oKeyDownHandler","_onEditableFieldKeydown","_oStopPropagationHandler","_stopPropagation","addEventListener","once","apply","_aOverlaysWithScrollbar","findParentOverlaysWithScrollbar","forEach","oOverlayWithScrollbar","attachScrollSynced","getInstance","publish","pluginMethodName","editableField","_setDesignTime","aArgs","oDesignTime","_aSelection","oOldDesignTime","getDesignTime","getSelectionManager","detachChange","_onDesignTimeSelectionChange","prototype","setDesignTime","attachChange","getSelectedOverlays","oEvent","aSelection","getParameter","stopPropagation","_preventDefault","preventDefault","el","range","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","_stopEdit","bRestoreFocus","sPluginMethodName","removeEventListener","detachScrollSynced","oEditField","querySelector","remove","_bBlurOrKeyDownStarted","_handlePostRename","removeStyleClass","Promise","resolve","then","_validateNewText","_emitLabelChangeEvent","catch","oError","message","fnErrorHandler","stopEdit","_handleInvalidRename","sErrorMessage","showMessageBox","titleKey","setIgnoreEnterKeyUpOnce","addStyleClass","oResponsibleOverlay","getResponsibleElementOverlay","oRenameAction","getAction","getOldValue","keyCode","ENTER","ESCAPE","DELETE","BACKSPACE","sText","trim","getElementById","currentTarget","metaKey","ctrlKey","shiftKey","_exit"],"sources":["RenameHandler-dbg.js"],"mappings":"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","ignoreList":[]}