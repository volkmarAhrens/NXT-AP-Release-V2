/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/rta/plugin/BaseCreate","sap/ui/fl/Utils","sap/ui/dt/Util","sap/base/util/uid","sap/ui/core/IconPool","sap/ui/rta/plugin/iframe/AddIFrameDialog"],function(e,t,a,i,n,r,s){"use strict";function o(e,t,a,i){var n=!e;var r=this.getCreateAction(n,i,e);return a.getText(t,[r.text])}function g(e,t,i,r){var s=a.getViewForControl(e);var o=s.createId(n());var g;var d;if(t.frameWidth){g=t.frameWidth+t.frameWidthUnit}else{g="100%"}if(t.frameHeight){d=t.frameHeight+t.frameHeightUnit}else{d="100%"}return this.getCommandFactory().getCommandFor(e,"addIFrame",{targetAggregation:t.aggregation,baseId:o,index:t.index,url:t.frameUrl,width:g,height:d,title:t.title,useLegacyNavigation:t.useLegacyNavigation,advancedSettings:t.advancedSettings},i,r)}function d(e,t){var a=t[0];var n=!e;var r=this.getCreateAction(n,a,e);var o=this._getParentOverlay(n,a);var d=o.getElement();var c=o.getDesignTimeMetadata();var l=0;if(n){var u=a.getElement();var h=c.getAggregation(r.aggregation).getIndex;l=this._determineIndex(d,u,r.aggregation,h)}var f=this.getVariantManagementReference(o);var v=!!r.getCreatedContainerId;var m=new s;var p;s.buildUrlBuilderParametersFor(d).then(function(e){var t={parameters:e,asContainer:v};return m.open(t)}).then(function(e){if(!e){return Promise.reject()}e.index=l;e.aggregation=r.aggregation;p=e.title;return g.call(this,d,e,c,f)}.bind(this)).then(function(e){this.fireElementModified({command:e,newControlId:e.getBaseId(),action:v?r:undefined,title:p})}.bind(this)).catch(function(e){if(e){throw i.createError("AddIFrame#handler",e,"sap.ui.rta")}})}var c=t.extend("sap.ui.rta.plugin.AddIFrame",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});c.prototype.isEnabled=function(e,t){var a=t[0];var i=!e;var n=this.getCreateAction(i,a,e);return this.isActionEnabled(n,i,a)};c.prototype.getMenuItems=async function(t){function a(t){var a=e.getResourceBundleFor("sap.ui.rta");var i=a.getText("CTX_ADDIFRAME_GROUP");return{text:o.bind(this,t,"CTX_ADDIFRAME",a),handler:d.bind(this,t),enabled:this.isEnabled.bind(this,t),isSibling:!t,icon:"sap-icon://tnt/content-enricher",group:i}}r.registerFont({collectionName:"tnt",fontFamily:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:false});await r.fontLoaded("tnt");var i=140;var n=[];var s=true;if(this.isAvailable(t,s)){var g=this.getCreateAction(s,t[0]);if(g){var c=Object.assign({id:"CTX_CREATE_SIBLING_IFRAME",rank:i,action:g},a.call(this));n.push(this.enhanceItemWithResponsibleElement(c,t));i+=10}}s=false;if(this.isAvailable(t,s)){n=n.concat(this.getCreateActions(s,t[0]).map(function(e,n){var r=Object.assign({action:e,id:`CTX_CREATE_CHILD_IFRAME_${e.aggregation.toUpperCase()}`,rank:i+10*n},a.call(this,e.aggregation));return this.enhanceItemWithResponsibleElement(r,t)},this))}return n};c.prototype.getActionName=function(){return"addIFrame"};return c});
//# sourceMappingURL=AddIFrame.js.map