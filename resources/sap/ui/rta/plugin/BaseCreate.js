/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/rta/plugin/Plugin","sap/ui/fl/Utils","sap/ui/rta/Utils"],function(e,t,r,n){"use strict";var a=t.extend("sap.ui.rta.plugin.BaseCreate",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});a.prototype._isEditable=function(e){return Promise.all([this._isEditableCheck(e,true),this._isEditableCheck(e,false)]).then(function(e){return{asSibling:e[0],asChild:e[1]}})};a.prototype._isEditableCheck=function(e,t){var n=this._getParentOverlay(t,e);var a;if(!n||!n.getParentElementOverlay()){return Promise.resolve(false)}if(t){a=e.getParentAggregationOverlay().getAggregationName()}return this.checkAggregationsOnSelf(n,this.getActionName(),a).then(function(t){if(t){var a=r.getViewForControl(n.getElement());return this.hasStableId(e)&&r.checkControlId(a)}return false}.bind(this))};a.prototype._getParentOverlay=function(e,t){var r;var n=this.getResponsibleElementOverlay(t);if(e){r=n.getParentElementOverlay()}else{r=n}return r};a.prototype.getCreateActions=function(e,t){var r=this.getResponsibleElementOverlay(t);var n=this._getParentOverlay(e,r);var a=n.getDesignTimeMetadata();var i=a.getActionDataFromAggregations(this.getActionName(),r.getElement());if(e){var o=r.getParentAggregationOverlay().getAggregationName();return i.filter(function(e){return e.aggregation===o})}return i};a.prototype.getCreateAction=function(e,t,r){var n=this.getCreateActions(e,t);if(r){var a;n.some(function(e){if(e.aggregation===r){a=e;return true}});return a}return n[0]};a.prototype.isAvailable=function(e,t){return this._isEditableByPlugin(e[0],t)};a.prototype.isActionEnabled=function(e,t,r){if(!e){return false}if(e.isEnabled&&typeof e.isEnabled==="function"){var n=e.isEnabled;var a=this._getParentOverlay(t,r);return n(a.getElement())}return true};a.prototype.getCreatedContainerId=function(e,t){var r=t;if(e.getCreatedContainerId&&typeof e.getCreatedContainerId==="function"){var n=e.getCreatedContainerId;r=n(t)}return r};a.prototype._determineIndex=function(e,t,r,a){return n.getIndex(e,t,r,a)};a.prototype._getText=function(t,r,n,a){if(!t){return a}var i=n.getAggregationDescription(t.aggregation,r);if(!i){return a}var o=i.singular;var g=e.getResourceBundleFor("sap.ui.rta");return g.getText(a,[o])};a.prototype.getActionName=function(){throw new Error("abstract")};function i(){}a.prototype.getMenuItems=function(e){i(e);throw new Error("abstract")};a.prototype.handleCreate=function(e,t){i(e,t);throw new Error("abstract")};return a});
//# sourceMappingURL=BaseCreate.js.map