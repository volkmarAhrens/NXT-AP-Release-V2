/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/core/Element","sap/ui/core/StaticArea","sap/ui/testrecorder/Constants","sap/ui/testrecorder/interaction/Commands","sap/ui/testrecorder/interaction/CommandExecutor","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels"],function(e,t,o,i,n,s,r,c,a){"use strict";var u=5;var d=null;var f={};var l={};var p={};var h=t.extend("sap.ui.testrecorder.interaction.ContextMenu",{});h.show=function(t){f=t.domElementId;if(d===null&&!document.getElementById(n.CONTEXTMENU_ID)){d=v(t)}if(t.items){var s=Object.keys(l).filter(function(e){return!(t.items[e]||t.items[e]===undefined)});var r=Object.keys(l).filter(function(e){return t.items[e]||t.items[e]===undefined});if(s.length===Object.keys(l).length){this.hide();return this}s.forEach(function(e){l[e].hide()});r.forEach(function(e){l[e].show()})}var c=e(i.getDomRef());e.map(c.find(":visible"),function(e){var t=o.closestTo(e);if(t){if(t.oPopup&&t.oPopup.setAutoClose&&!p[t.getId()]){p[t.getId()]={autoClose:t.oPopup.getAutoClose()};t.oPopup.setAutoClose(false)}}});var a=e(window).width();var E=e(window).height();var m=d.width();var b=d.height();var x=t.location.x+m+u>=a?t.location.x-m:t.location.x;var T=t.location.y+b+u>=E?t.location.y-b:t.location.y;d.css("top",T+u+"px");d.css("left",x+u+"px");h._show();return this};h.hide=function(){if(d){d.hide()}Object.keys(p).forEach(function(e){var t=sap.ui.getCore().byId(e).oPopup;t.setAutoClose(p[e].autoClose);t._$().focus()});p={}};h._show=function(){if(d){d.show()}};function v(t){var o=e("<div></div>");var i=e("<div></div>");var u=e("<div></div>");var d=e("<div></div>");l={highlight:i,press:u,enterText:d};i.text("Highlight");u.text("Press");d.text("Enter Text");i.on("click",function(){h.hide();var e={domElementId:f};if(t.withEvents){c.publish(a.CONTEXT_MENU_HIGHLIGHT,e)}else{r.execute(s.HIGHLIGHT,e)}});u.on("click",function(){h.hide();var e={domElementId:f};if(t.withEvents){c.publish(a.CONTEXT_MENU_PRESS,e)}else{r.execute(s.PRESS,e)}});d.on("click",function(){h.hide();var e={domElementId:f};if(t.withEvents){c.publish(a.CONTEXT_MENU_ENTER_TEXT,e)}else{r.execute(s.ENTER_TEXT,e)}});o.attr("id",n.CONTEXTMENU_ID);o.css("min-width","150px");o.css("position","absolute");o.css("z-index",1001);o.css("border","1px solid rgb(200, 142, 250)");o.css("border-radius","3px");o.css("background","#fff");o.css("box-sizing","border-box");[i,d,u].forEach(function(e){e.css("padding","16px");e.css("cursor","pointer");e.on("mouseenter",function(){e.css("background-color","#ebf5fe")}).on("mouseleave",function(){e.css("background-color","transparent")})});[i,u].forEach(function(e){e.css("border-bottom","1px solid #d9d9d9")});o.append(i);o.append(u);o.append(d);e(document.body).append(o);return o}return h});
//# sourceMappingURL=ContextMenu.js.map