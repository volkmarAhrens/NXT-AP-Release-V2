{"version":3,"file":"RuleSetLoader.js","names":["sap","ui","define","Log","extend","ObjectPath","VersionInfo","Supportability","RuleSet","CommunicationBus","channelNames","RuleSerializer","constants","EvalUtils","Utils","jQuery","getAbsoluteUrl","a","url","document","createElement","href","replace","sCustomSuffix","sSupportModulePath","require","toUrl","sSupportModuleRootPath","sAbsUrl","RuleSetLoader","_mRuleSets","_mRequireLibraryRuleSet","getRuleSets","this","addRuleSet","sLibName","oRuleSet","getRuleSet","_fetchSupportRuleSets","fnReadyCbk","mLibraries","mLoadedLibraries","getCore","getLoadedLibraries","oLibNamesWithRulesPromise","_fetchLibraryNamesWithSupportRules","load","library","then","oCoreLibInfo","versionInfo","oLibNamesWithRules","Promise","all","_fetchLibraryFiles","_fetchRuleSet","bind","_bRulesCreated","publish","UPDATE_SUPPORT_RULES","sRuleSet","serialize","oVersionInfo","loadAdditionalRuleSets","aLibNames","that","aLibFetchPromises","oLoadedLibraries","mainResolve","canLoadInternalRulesAsync","bCanLoadInternalRules","oLibNames","publicRules","internalRules","allRules","aAllMetaPromises","Object","keys","forEach","oMetaPromise","resolve","rcFilePath","ajax","type","dataType","success","data","lib","rcData","error","push","metaArgs","metaInfo","bHasRules","indexOf","fnProcessFile","bSupressProgressReporting","aAjaxPromises","supportModulePath","supportModulesRoot","canLoadInternalRules","bHasInternalRules","length","iProgress","iRulesNumber","supportModeConfig","getSupportSettings","bSilentMode","reportCurrentLoadingProgress","iPercentileProgressValue","Math","ceil","CURRENT_LOADING_PROGRESS","value","oLibName","customizableLibName","_registerLibraryPath","oLibPublicRulesPromise","_requireRuleSet","internalLibName","oLibPrivateRulesPromise","libraryName","libResourceName","customizableLibResourceName","loadFromSupportOrigin","_getLoadFromSupportOrigin","pathsConfig","internalLibResourceName","libraryInternalResourceRoot","loader","config","paths","sLibraryName","oLibSupport","call","ex","sNormalizedLibName","get","support","ruleset","mergeRuleSet","_createRuleSet","e","SUPPORT_ASSISTANT_NAME","coreUri","URL","baseURI","supportUri","origin","fetchNonLoadedRuleSets","aLoadedLibraries","oLibraries","libraries","oLib","name","aNonLoadedLibraries","POST_AVAILABLE_LIBRARIES","libNames","_onLibraryChanged","oEvent","getParameter","_oMainPromise","updateRuleSets","oLibrarySupport","niceName","getAllRules","mRules","map","getRules","getAllRuleDescriptors","sRuleId","libName","ruleId","isEvalAllowed","TEMP_RULESETS_NAME"],"sources":["RuleSetLoader-dbg.js"],"mappings":"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","ignoreList":[]}