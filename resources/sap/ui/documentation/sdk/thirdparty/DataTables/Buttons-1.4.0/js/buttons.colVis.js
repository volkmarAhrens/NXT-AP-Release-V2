/*!
 * Column visibility buttons for Buttons and DataTables.
 * 2016 SpryMedia Ltd - datatables.net/license
 */
(function(n){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net","datatables.net-buttons"],function(t){return n(t,window,document)})}else if(typeof exports==="object"){module.exports=function(t,e){if(!t){t=window}if(!e||!e.fn.dataTable){e=require("datatables.net")(t,e).$}if(!e.fn.dataTable.Buttons){require("datatables.net-buttons")(t,e)}return n(e,t,t.document)}}else{n(jQuery,window,document)}})(function(n,t,e,o){"use strict";var i=n.fn.dataTable;n.extend(i.ext.buttons,{colvis:function(n,t){return{extend:"collection",text:function(n){return n.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]}},columnsToggle:function(n,t){var e=n.columns(t.columns).indexes().map(function(n){return{extend:"columnToggle",columns:n,columnText:t.columnText}}).toArray();return e},columnToggle:function(n,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(n,t){var e=n.columns(t.columns).indexes().map(function(n){return{extend:"columnVisibility",columns:n,visibility:t.visibility,columnText:t.columnText}}).toArray();return e},columnVisibility:{columns:o,text:function(n,t,e){return e._columnText(n,e)},className:"buttons-columnVisibility",action:function(n,t,e,i){var l=t.columns(i.columns);var s=l.visible();l.visible(i.visibility!==o?i.visibility:!(s.length?s[0]:false))},init:function(n,t,e){var o=this;n.on("column-visibility.dt"+e.namespace,function(t,i){if(!i.bDestroying&&i.nTable==n.settings()[0].nTable){o.active(n.column(e.columns).visible())}}).on("column-reorder.dt"+e.namespace,function(t,i,l){if(n.columns(e.columns).count()!==1){return}if(typeof e.columns==="number"){e.columns=l.mapping[e.columns]}var s=n.column(e.columns);o.text(e._columnText(n,e));o.active(s.visible())});this.active(n.column(e.columns).visible())},destroy:function(n,t,e){n.off("column-visibility.dt"+e.namespace).off("column-reorder.dt"+e.namespace)},_columnText:function(n,t){var e=n.column(t.columns).index();var o=n.settings()[0].aoColumns[e].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return t.columnText?t.columnText(n,e,o):o}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(n,t,e){e._visOriginal=n.columns().indexes().map(function(t){return n.column(t).visible()}).toArray()},action:function(n,t,e,o){t.columns().every(function(n){var e=t.colReorder&&t.colReorder.transpose?t.colReorder.transpose(n,"toOriginal"):n;this.visible(o._visOriginal[e])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,t,e,o){t.columns(o.show).visible(true,false);t.columns(o.hide).visible(false,false);t.columns.adjust()},show:[],hide:[]}});return i.Buttons});
//# sourceMappingURL=buttons.colVis.js.map