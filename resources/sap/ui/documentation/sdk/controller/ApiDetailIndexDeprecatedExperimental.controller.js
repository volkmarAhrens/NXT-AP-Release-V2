/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/documentation/sdk/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/documentation/sdk/controller/util/APIInfo","sap/ui/documentation/sdk/model/formatter"],function(e,t,i,n){"use strict";return e.extend("sap.ui.documentation.sdk.controller.ApiDetailIndexDeprecatedExperimental",{formatter:n,onInit:function(){var e=this.getRouter();this._oModel=new t;this._oModel.setSizeLimit(1e4);this.setModel(this._oModel);e.getRoute("deprecated").attachPatternMatched(this._onTopicMatched,this);e.getRoute("experimental").attachPatternMatched(this._onTopicMatched,this);e.getRoute("since").attachPatternMatched(this._onTopicMatched,this);this._hasMatched=false},_onTopicMatched:function(e){var t=e.getParameter("name"),n={experimental:i.getExperimentalPromise,deprecated:i.getDeprecatedPromise,since:i.getSincePromise}[t];if(this._hasMatched){return}this._hasMatched=true;this._aAllowedMembers=this.getModel("versionData").getProperty("/allowedMembers");n().then(function(e){e=this._filterVisibleElements(e);this._oModel.setData(e)}.bind(this))},_filterVisibleElements:function(e){var t={},i;Object.keys(e).forEach(function(i){var n=e[i];n.apis=n.apis.filter(function(e){return this._aAllowedMembers.indexOf(e.visibility)>-1}.bind(this));if(n.apis.length>0){t[i]=n}}.bind(this));i=Object.keys(t).sort(function(e,t){var i=e.split("."),n=t.split(".");var a=parseInt(i[0]),s=parseInt(n[0]);if(a!==s){return s-a}var r=parseInt(i[1]),o=parseInt(n[1]);return o-r}).reduce(function(e,i){e[i]=t[i];return e},{});return i},_modifyLinks:function(e){var t=e.getSource().getItems(),i=t.length,n;while(i--){n=t[i];if(n._getLinkSender){var a=n.getCustomData(),s=a[0].getValue(),r=a[1].getValue(),o=a[2].getValue(),c;if(a[3].getValue()){r=s+"."+r}c="api/"+s;if(o!=="class"){c+="/"+o+"/"+r}n._getLinkSender().setHref(c)}}}})});
//# sourceMappingURL=ApiDetailIndexDeprecatedExperimental.controller.js.map