/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ui/documentation/sdk/util/Resources","sap/base/Log"],function(e,jQuery,t,n){"use strict";var r={},i=[],s=[],a=null,o=false,u="OLD_NEWS_IDS",c,f;function l(e){if(r["newsRSS"]){return Promise.resolve(r["newsRSS"])}f=e;c=f.LOCAL_STORAGE_NAMES[u];return e._requireConfigJSON().then(L).then(w).then(d).catch(function(e){a=e.message;n.error(a)}).finally(v)}function d(){if(o){return Promise.resolve()}var e=f.getLocalStorageItem(c);return new Promise(function(t){var n=r["newsRSS"].items,a;if(Array.isArray(e)){for(var u=0;u<n.length;u++){a=n[u];if(e.indexOf(a.id)!==-1){s.push(a)}else{i.push(a)}}}else{i=n.slice()}o=true;t()})}function h(){return a}function p(){return i}function S(){return s}function g(e){var t=i.indexOf(e),n=f.getLocalStorageItem(c)||[];if(t>-1){i.splice(t,1)}s.push(e);n.push(e.id);f.setLocalStorageItem(c,n);v()}function m(){var e=f.getLocalStorageItem(c)||[],t;for(var n=0;n<i.length;n++){t=i[n];s.push(t);e.push(t.id)}i=[];f.setLocalStorageItem(c,e);v()}function w(){var e=r["newsRSS"].items;e.forEach(function(e){e.updated=new Date(e.updated).toLocaleString()})}function v(){e.getEventBus().publish("newsChanged","onDemoKitNewsChanged")}function L(e){return new Promise(function(i){jQuery.ajax(t.getResourceOriginPath(e.feedPath),{type:"GET",dataType:"xml",success:function(e){var t=[];jQuery("item",e).each(function(){var e={};e.title=jQuery(this).find("title").eq(0).text();e.link=jQuery(this).find("link").eq(0).text();e.description=jQuery(this).find("description").eq(0).text();e.updated=jQuery(this).find("pubDate").eq(0).text();e.id=jQuery(this).find("guid").eq(0).text();t.push(e)});r["newsRSS"]={items:t};i(r["newsRSS"])},error:function(){n.error("failed to load news rss");r["newsRSS"]=null;i()}})})}return{moveAllNewItemsToOld:m,moveNewItemToOld:g,prepareNewsData:l,getPreparationFailureMessage:h,getNewNewsArray:p,getOldNewsArray:S}});
//# sourceMappingURL=NewsInfo.js.map