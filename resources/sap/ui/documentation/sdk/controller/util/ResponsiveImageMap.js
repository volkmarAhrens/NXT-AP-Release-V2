/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./overlay/Overlay","./Tooltip"],function(e,t){"use strict";var i=function(i){var r=i.querySelector("map"),o=i.querySelector("img");this.oImg=o;this.oMapWrapper=this.oImg.parentNode;this.oOverlay=new e(this.oImg.parentNode);this.oToolTip=new t;this.fnHandlers={areaMouseenter:this.onmouseenter.bind(this),areaMouseleave:this.onmouseleave.bind(this)};this.iOriginalWidth=o.naturalWidth;this.areas=Array.prototype.map.call(r.getElementsByTagName("area"),function(e){e.addEventListener("mouseenter",this.fnHandlers.areaMouseenter);e.addEventListener("mouseleave",this.fnHandlers.areaMouseleave);return{element:e,originalCoords:e.getAttribute("originalCoords").split(",")}},this);this.resize()};i.prototype.resize=function(){var e,t=this.oImg.offsetWidth/this.iOriginalWidth;this.areas.forEach(function(i){e=[];i.originalCoords.forEach(function(i){e.push(Math.round(i*t))});i.element.coords=e.join(",")});this.resizeOverlay();return true};i.prototype.resizeOverlay=function(){var e=this.oMapWrapper.getBoundingClientRect(),t=e.width,i=e.height;this.oOverlay.setSize(t,i)};i.prototype.onmouseenter=function(e){if(this.bAreasDisabled){return}var t=e.target.coords,i=e.target.getAttribute("shape");this.oOverlay.setShape(i,t);this.oOverlay.show();this.sTitle=this.getTooltipText(e);if(this.sTitle){e.target.setAttribute("title","");this.oToolTip.setText(this.sTitle);this.oToolTip.show(this.oOverlay.getCurrentShape().oContainer)}};i.prototype.getTooltipText=function(e){return e.target.getAttribute("title")};i.prototype.onmouseleave=function(e){if(this.sTitle){e.target.setAttribute("title",this.sTitle)}this.oOverlay.hide();this.oToolTip.hide()};i.prototype.removeEventListeners=function(){this.areas.forEach(function(e){e.element.removeEventListener("mouseenter",this.fnHandlers.areaMouseenter);e.element.removeEventListener("mouseleave",this.fnHandlers.areaMouseleave)},this)};return i});
//# sourceMappingURL=ResponsiveImageMap.js.map