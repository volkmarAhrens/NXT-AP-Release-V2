/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/documentation/library","sap/base/Log","sap/ui/documentation/sdk/util/Resources"],function(jQuery,e,r,n){"use strict";var s;var t={loadData:function(){if(!s){s=new Promise(function(r,n){e._loadAllLibInfo("","_getDocuIndex",function(e,n){var s=t._getIndices(e,n,function(){r(s)})})})}return s},_getIndices:function(s,t,i){var a=["_PRIVATE_"];var o=["Action","Application","Container","Display","Chart","Mini Chart","Layout","List","Floorplans & Patterns","Popup","Tile","User Input","Showcase","Testing","Theming","Tutorial","Routing","Data Binding","Data Visualization","Map","Utility","Web Components","Smart Controls"];var l=["namespace","since","category"];var p={namespace:{},since:{},category:{},formFactors:{Independent:true,Condensed:true,Compact:true,Cozy:true}};var f={"-":"Independent",S:"Condensed",SM:"Condensed, Compact",SL:"Condensed, Cozy",SML:"Condensed, Compact, Cozy",M:"Compact",ML:"Compact, Cozy",L:"Cozy"};var c={};c={};c.entityCount=0;c.entities=[];c.filter={};c.samples={};jQuery.each(t,function(e,s){if(!s.explored){return}else if(!s.explored.samplesRef){r.error("explored: cannot register lib '"+s.library+"'. missing 'explored.samplesRef'");return}else if(Array.isArray(s.explored.samplesRef)&&s.explored.samplesRef.length!==s.explored.samplesRef.filter(function(e){return e.namespace&&e.ref}).length){r.error("explored: cannot register lib '"+s.library+"'. missing 'explored.samplesRef.namespace' or 'explored.samplesRef.ref' in one or more of the configured namespaces");return}else if(!Array.isArray(s.explored.samplesRef)&&!s.explored.samplesRef.namespace){r.error("explored: cannot register lib '"+s.library+"'. missing 'explored.samplesRef.namespace'");return}else if(!Array.isArray(s.explored.samplesRef)&&!s.explored.samplesRef.ref){r.error("explored: cannot register lib '"+s.library+"'. missing 'explored.samplesRef.ref'");return}else if(!s.explored.entities){r.error("explored: cannot register lib '"+s.library+"'. missing 'explored.entities'");return}else{r.info("explored: now reading lib '"+s.library+"'")}if(Array.isArray(s.explored.samplesRef)){s.explored.samplesRef.forEach(function(e){(function(){var r={};r[e.namespace.replace(/\./g,"/")]=""+n.getResourceOriginPath(e.ref||".");sap.ui.loader.config({paths:r})})()})}else{(function(){var e={};e[s.explored.samplesRef.namespace.replace(/\./g,"/")]=""+n.getResourceOriginPath(s.explored.samplesRef.ref||".");sap.ui.loader.config({paths:e})})()}jQuery.each(s.explored.samples,function(e,n){if(!n.id){r.error("explored: cannot register sample '?'. missing 'id'")}else if(!n.name){r.error("explored: cannot register sample '"+n.id+"'. missing 'name'")}else{c.samples[n.id]=n;n.library=s.library}});jQuery.each(s.explored.entities,function(e,n){if(!n.id){r.error("explored: cannot register entity '?'. missing 'id'");return}if(s.explored.entitiesDefaults){jQuery.each(s.explored.entitiesDefaults,function(e,r){if(!n.hasOwnProperty(e)){n[e]=r}})}var t=n.id.lastIndexOf(".");var i=t!==-1?n.id.substring(0,t):n.id;n.namespace=i;if(!n.name){r.error("explored: cannot register entity '"+n.id+"'. missing 'name'");return}if(o.indexOf(n.category)===-1&&a.indexOf(n.category)===-1){r.error("explored: cannot register entity '"+n.id+"'. category '"+n.category+"' is not allowed");return}if(!n.formFactors){r.error("explored: cannot register entity '"+n.id+"'. missing 'formFactors'");return}if(!f[n.formFactors]){r.error("explored: cannot register entity '"+n.id+"'. formFactors '"+n.formFactors+"' is not allowed");return}n.formFactors=f[n.formFactors];var d=false;jQuery.each(l,function(e,s){if(!n[s]){r.error("explored: cannot register entity '"+n.id+"'. missing '"+s+"'");d=true;return false}});if(d){return}jQuery.each(l,function(e,r){p[r][n[r]]=true});n.library=s.library;if(o.indexOf(n.category)>-1){c.entities.push(n)}})});jQuery.each(c.entities,function(e,n){var s=0,t,i;n.searchTags=n.name+" "+n.name.replace(/\s/g,"")+" "+n.category;if(n.samples){n.samples.forEach(function(e){var r=c.samples[e];if(r){n.searchTags+=" "+r.name;n.searchTags+=" "+r.description}})}if(n.samples&&!(n.samples instanceof Array)){n.samples=[];r.error("explored: cannot register samples for entity '"+n.id+"'. 'samples' is not an array");return}if(!n.samples){n.samples=[]}if(n.samplesAsSteps){if(!(n.samplesAsSteps instanceof Array)){r.error("explored: cannot register samples for entity '"+n.id+"'. 'samplesAsSteps' is not an array");return}i=function(e){if(e.toString().length===1){return"0"+e}return e};for(;s<n.samplesAsSteps.length;s++){t={id:n.id+"."+i(s+1),name:n.name+" - Step "+(s+1)+" - "+n.samplesAsSteps[s]};if(s>0){t.previousSampleId=n.id+"."+i(s)}if(s<n.samplesAsSteps.length-1){t.nextSampleId=n.id+"."+i(s+2)}t.entityId=n.id;n.samples.push(t);t.library=n.library;c.samples[t.id]=t;n.searchTags+=" "+t.name}}else{var a=[],o;jQuery.each(n.samples,function(e,s){var t=c.samples[s];if(!t){r.warning("explored: cannot register sample '"+s+"' for '"+n.id+"'. not found in the available docu indizes")}else{t.entityId=n.id;if(!t.contexts){t.contexts={}}if(!t.contexts[t.entityId]){t.contexts[t.entityId]={}}t.contexts[t.entityId].previousSampleId=o?o.id:undefined;if(o){o.contexts[t.entityId].nextSampleId=t.id}o=t;a.push(t);n.searchTags+=" "+t.name}});n.samples=a}n.sampleCount=n.samples.length});c.entityCount=c.entities.length;jQuery.each(p,function(e,r){c.filter[e]=[];jQuery.each(r,function(r,n){c.filter[e].push({id:r})})});var d=e._getLibraryInfoSingleton();var m={};var u=[];for(var g=0;g<s.length;g++){u.push(new Promise(function(e){var r=function(r){m[r.library]=r.componentInfo;e()};d._getLibraryInfo(s[g],r)}))}Promise.all(u).then(function(){i&&i()});c.libComponentInfos=m;c.groups=this.getGroups(c.entities);return c},findGroup:function(e,r){var n;for(var s=0;s<e.length;s++){n=e[s];if(n.name==r){return n}}},getGroups:function(e){var r=[],n,s,t,i,a,o;for(a=0;a<e.length;a++){n=e[a];n.key="#/entity/"+n.id;t=n.samples;for(o=0;o<t.length;o++){i=t[o];i.key="#/sample/"+i.id+"/preview"}s=this.findGroup(r,n.category);if(!s){s={name:n.category,key:"#/group/"+n.category,controls:[n]};r.push(s)}else{s.controls.push(n)}}return r}};return t},true);
//# sourceMappingURL=ControlsInfo.js.map